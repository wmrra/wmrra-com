{{/*}}
  {{ partial args: }}
  {{ context: the sponsor being rendered }}
  {{ sponsorLevel: e.g. "Title Sponsor", "Race Class Sponsor", etc }}
  {{ isVipSponsor: did they give us big money? }}
{{*/}}

{{ $sponsorClass := (lower (delimit (split .sponsorLevel " ") "-")) }}
{{ $urls := (slice .context.social.website .context.social.facebook .context.social.twitter )}}

<div class="supporter-page-block {{ $sponsorClass }}">
  {{ if or (eq .sponsorLevel "Title Sponsor") (eq .sponsorLevel "Formula Ultra Sponsor") }}
    <div class="supporter-ribbon big">{{ .sponsorLevel }}</div>
  {{ else if eq .sponsorLevel "Formula 2 Sponsor" }}
    <div class="supporter-ribbon little">{{ .sponsorLevel }}</div>
  {{ else }}
    <div>{{ .context.description }}</div>
  {{ end }}

  {{ if .context.image }}
    <img src="{{ .context.image | absURL }}"  alt="{{ .context.name }}" />
  {{ end }}

  <div>{{ .context.name }}</div>

  {{ if .isVipSponsor }}
    <div>{{ .context.description }}</div>
  {{ end }}

  {{ if gt (len $urls) 0 }}


  {{ $socialStyle := dict "website" "fas fa-laptop" "facebook" "fab fa-facebook" "twitter" "fab fa-twitter" }}
  <div>
    {{ $context := .context }}
    {{ range $key, $value := .context.social }}
      <a aria-label="{{ $key }}" href="{{ $value }}" target="_blank">
        <i aria-hidden="true" class="{{ index $socialStyle $key }}" title="Visit the {{ $context.name }} {{ $key }}"></i>
      </a>
    {{ end }}
  </div>

  {{ end }}
</div>
